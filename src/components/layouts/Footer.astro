---
import { Image } from 'astro:assets'
import favicon from '@/assets/devopsick-favicon-color.png'
import Containers from './Containers.astro'
import { SITE, SOCIALS } from '@/site.config'
import { getLangFromUrl, useTranslations } from '@/i18n/utils'
const lang = getLangFromUrl(Astro.url)
const t = useTranslations(lang)
const navigation = {
	connect: [
		{ name: 'Book Meeting', href: '' },
		{
			name: 'Twitter',
			href: 'https://twitter.com/justansub'
		},
		{
			name: 'Github',
			href: 'https://www.youtube.com/@SpeedyBrand-SEO'
		},
		{
			name: 'LinkedIn',
			href: 'https://www.linkedin.com/company/speedy-brand-inc/'
		}
	],
	company: [
		{ name: 'Blogs', href: '/' },
		{ name: 'Pricing', href: '/' },
		{ name: 'Affiliate Partner', href: '/' },
		{ name: 'AI For Enterprise', href: '/' }
	]
}
---

<footer class="bg-trancperent mx-10 my-10 py-5">
	<div class="animate">
		<section class="py-15">
			<Containers  size="md" >
				<div class="flex items-center justify-center sm:justify-end">
					<button
						id="back-to-top"
						aria-label="Back to top of page"
						class="group flex w-fit items-center gap-1.5 rounded border border-black/15 p-1.5 text-sm transition-colors duration-300 ease-in-out hover:bg-black/5 dark:border-white/20 hover:dark:bg-white/10"
					>
						<svg
							xmlns="http://www.w3.org/2000/svg"
							width="20"
							height="20"
							viewBox="0 0 24 24"
							fill="none"
							stroke-width="2.5"
							stroke-linecap="round"
							stroke-linejoin="round"
							class="rotate-90 stroke-current group-hover:stroke-black group-hover:dark:stroke-white"
						>
							<line
								x1="19"
								y1="12"
								x2="5"
								y2="12"
								class="translate-x-3 scale-x-0 transition-all duration-300 ease-in-out group-hover:translate-x-0 group-hover:scale-x-100"
							></line>
							<polyline
								points="12 19 5 12 12 5"
								class="translate-x-1 transition-all duration-300 ease-in-out group-hover:translate-x-0"
							></polyline>
						</svg>
						<div
							class="w-full transition-colors duration-300 ease-in-out group-hover:text-black group-hover:dark:text-white"
						>
                            {t('back-to-top')}
						</div>
					</button>
				</div>
			</Containers>
		</section>

		<section class="my-auto border-trancperent overflow-hidden whitespace-nowrap border-t">
			<Containers size="md">
				<div class="grid grid-cols-1 gap-3 sm:grid-cols-2">
					<div class="flex flex-col items-center sm:items-start">
						<a
							href="/"
							class="hover:text-neon-cyan flex w-fit gap-1 font-semibold text-current transition-colors duration-300 ease-in-out"
						>
							<Image
								width={100}
								height={40}
								src={favicon}
								alt="logo"
								class="h-7 w-auto"
							/>
							{SITE.TITLE[lang]}
						</a>
					</div>
					<div class="flex items-center justify-center gap-2 sm:justify-end">
						<span class="relative flex h-3 w-3">
							<span
								class="absolute inline-flex h-full w-full animate-ping rounded-full bg-green-300"
							></span>
							<span class="relative inline-flex h-3 w-3 rounded-full bg-green-500"
							></span>
						</span>
						All systems normal
					</div>
				</div>

				{/* Navigations */}

				<div class="my-auto mt-16 grid grid-cols-4 gap-14 md:grid-cols-2 lg:mt-0 xl:col-span-2">
					<div class="md:mt-0">
						<h3 class="text-md text-neon-cyan font-semibold leading-6">Connect</h3>
						<div class="mt-6 space-y-4">
							{
								navigation.connect.map((item) => (
									<div id={item.name}>
										<a
											href={item.href}
											target="_blank"
											rel="noreferrer"
											class="text-muted-foreground hover:text-neon-cyan text-sm leading-6"
										>
											{item.name}
										</a>
									</div>
								))
							}
						</div>
					</div>
					<div>
						<div>
							<h3 class="text-md text-neon-cyan font-semibold leading-6">Company</h3>
							<div class="mt-6 space-y-4">
								{
									navigation.company.map((item) => (
										<div id={item.name}>
											<a
												href={item.href}
												class="text-muted-foreground hover:text-neon-cyan text-sm leading-6"
											>
												{item.name}
											</a>
										</div>
									))
								}
							</div>
						</div>
					</div>
				</div>
			</Containers>
		</section>
		<section class="border-border overflow-hidden whitespace-nowrap border-t">
			<Containers size="md">
				<div class="grid h-full grid-cols-1 gap-3 sm:grid-cols-2">
					<div
						class="order-2 flex flex-col items-center justify-center sm:order-1 sm:items-start"
					>
						<div class="legal">
							<a
								href="/legal/terms"
								class="hover:text-neon-cyan text-current transition-colors duration-300 ease-in-out"
							>
								Terms
							</a> |
							<a
								href="/legal/privacy"
								class="hover:text-neon-cyan text-current transition-colors duration-300 ease-in-out"
							>
								Privacy
							</a>
						</div>
						<div class="mt-2 text-sm">
							<p class='text-foreground"'></p>Copyright &copy; {
								new Date().getFullYear()
							}{' '}
							<a href="https://twitter.com/devopsick" class="text-neon-cyan">
								DevOpSick
							</a>{' '} | All rights reserved
						</div>
					</div>
				</div>

				<div class="order-1 flex justify-center sm:order-2 sm:justify-end">
					<div class="flex flex-wrap items-center justify-center gap-1">
						{
							SOCIALS.map(
								(SOCIAL: {
									HREF: string | URL | null | undefined
									NAME: any
									ICON: any
								}) => (
									<a
										href={SOCIAL.HREF}
										target="_blank"
										aria-label={`${SITE.TITLE} on ${SOCIAL.NAME}`}
										class="group text-foreground blend size-10 items-center justify-center rounded-full p-2 hover:bg-black/5 dark:hover:bg-white/20"
									>
										<svg class="fill-foreground text-foreground blend group-hover:fill-neon-cyan group-hover:dark:fill-neon-cyan size-full">
											<use href={`/social.svg#${SOCIAL.ICON}`} />
										</svg>
									</a>
								)
							)
						}
					</div>
				</div>
			</Containers>
		</section>
	</div>
	<div class="text-foreground flex space-x-6 text-sm">
		<div>
			Made with <span class="animate-pulse">❤️</span> by <a
				href="https://github.com/Frikadellios"
				class="text-foreground hover:text-muted-foreground">Hrihorii Ilin</a
			>.
		</div>
	</div>
</footer>

<script is:inline>
	function goBackToTop(event) {
		event.preventDefault()
		window.scrollTo({
			top: 0,
			behavior: 'smooth'
		})
	}

	function inintializeBackToTop() {
		const backToTop = document.getElementById('back-to-top')
		backToTop?.addEventListener('click', goBackToTop)
	}

	document.addEventListener('astro:after-swap', inintializeBackToTop)
	inintializeBackToTop()
</script>
